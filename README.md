# Pocket API-Server

## Introduction

node.js의 Koa 프레임워크를 사용하여 [pocket](https://app.getpocket.com/)을 따라 구현한 프로젝트.

## Using

- Node.js
- Koa
- mongoDB
- mongoose
- jest

## Deployment

- Travis CI
- AWS CodeDeploy
- docker

## 배운 것들

- 유닛 테스트
  이번 프로젝트를 작성하면서 처음으로 유닛 테스트를 해보았다. 제일 크게 느낀 것은, 테스트 코드를 작성하는 과정이 API를 설계하는 과정이 될 수 있다는 것과 테스트 코드를 작성함으로 생산성이 얼마나 증가할 수 있는지였다.
  테스트를 작성하기 이전에는 API 구현을 한 뒤, Postman을 사용하여 응답이 정상적인지, 비정상적인 요청은 필터링이 잘 되는지 수동으로 검증을 하였지만, 테스트를 작성한 뒤로부터는 그럴 필요가 없었다.
  코드를 작성하고, 테스트를 실행하고, 실패할 경우 통과할 때까지 다시 구현을 하고. 수동으로 테스트를 하던 과정이 사라짐으로 훨씬 피로감이 줄어들었고 생산성이 높아졌다.
  앞으로도 테스트를 꾸준히 작성해야겠다.
- 디버깅
  vscode를 사용한 디버깅도 이번이 처음이었다. 이전에는 수시로 console.log를 찍어가며 객체의 값을 확인하고, 결과를 확인하고 반복을 했었지만, 테스트 코드와 디버거의 사용은 이러한 과정을 대폭 줄여주었다.
- OAuth2.0
  OAuth서비스 제공자로부터 사용자의 정보를 받을 때 1. request토큰을 발급받고, 2. request토큰으로 access토큰을 발급하고, 3. access토큰으로 사용자의 정보를 제공받는 과정을 거치는 것을 알게되었고, 해당 로직을 구현하는 방법을 배웠다.

## 앞으로 할 것들

- 아티클 검색 기능
- 아티클의 썸네일과 본문 별도 서버에 저장
  - 현재 썸네일은 저장한 아티클의 open-graph 이미지 url을 저장 후 사용하여 이미지를 읽음.
  - 위 url이 https가 아닌 경우, 브라우저에서 경고를 띄우고 있으니, 별도 AWS S3 버킷에 저장하게끔 수정
- Typescript로 전환
